<!DOCTYPE html>
<html lang="es-ES">

<head>
    <meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AUDIO PLAYER</title>
	<link rel="stylesheet" type="text/css" href="./css/css.css">
</head>

<body>

<script>
	var a = ["./mp3/min.mp3", "./mp3/int.mp3", "./mp3/sod.mp3", "./mp3/04.mp3", "./mp3/05.mp3", "./mp3/06.mp3"]; //new Array(); 
	var iCancionActual = 0; 
	
	function cargaArray(a){
		document.getElementById('lblCantidadCanciones').innerHTML = a.length; 
	}

	function pausarCancion(){
		var aud = document.getElementById('aud01'); 
		if (aud.paused === true) {
			aud.play(); 
		}
		else {
			aud.pause(); 
		}
	}
	
	function detenerCancion(){
		//var aud = document.getElementById('aud01'); 
		//aud.pause(); 
		document.getElementById('aud01').pause();
	}
	
	function siguienteCancion(){
		//alert ("NEXT song clicked"); 
		detenerCancion(); 
		document.getElementById('aud01').src = a[ (((++iCancionActual)) % (a.length)) ]; 
		document.getElementById('aud01').play(); 
		//document.getElementById('consola').innerHTML = "CA: " + (iCancionActual + 1) + " -- " + "L: " + a.length + " -- Ind: " + (iCancionActual % (a.length)); 
		iCancionActual = ((iCancionActual) % (a.length));
		document.getElementById('consola').innerHTML = "Current song #: " + (iCancionActual + 1); // + " -- " + "L: " + a.length + " -- Ind: " + (iCancionActual % (a.length)); 
	}
	
	
</script>

<h2>My First AUDIO PLAYER</h2>


<audio src="./mp3/min.mp3" id="aud01" class="cAudio" controls >
<p>- INCOMPATIBLE BROWSER -</p>
</audio>
<hr> 


<p id="consola"></p>
<hr>


	Total songs: 
	<p id="lblCantidadCanciones">0</p>
	<script>
		cargaArray(a);
		document.getElementById('consola').innerHTML = "Current song #: " + (iCancionActual+1);
	
		var aud = document.getElementById('aud01'); 	
		aud.volume=0.5;
		aud.addEventListener("ended", function(){
			//alert ("song 'ended' detected"); 
			siguienteCancion(); 
		});
	
	</script>
<hr> 	

<button type="button" onclick="pausarCancion()"> | PAUSE / PLAY | </button>
<button type="button" onclick="siguienteCancion()"> NEXT >> </button>
<!--
<button type="button" onclick="detenerCancion()"> >>STOP<< </button>
<hr>
-->
</body>
</html>
